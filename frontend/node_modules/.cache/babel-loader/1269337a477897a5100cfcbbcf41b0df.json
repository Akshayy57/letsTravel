{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\letsTravel\\\\frontend\\\\src\\\\pages\\\\Header\\\\Header.js\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { Avatar, Typography } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport ContextApi from \"../../context-api/context-api\";\nimport LoginModal from \"../../components/login-modal/login-modal\";\nimport SnackBar from \"../../components/snack-bar/snakc-bar\";\nimport { IconButton } from \"@material-ui/core/\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport { useHistory } from \"react-router-dom\";\nimport { ToastContainer, toast } from \"react-toastify\";\n\nfunction Header() {\n  const {\n    dispatchUserEvent,\n    state\n  } = useContext(ContextApi);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const history = useHistory();\n  const [loginCreds, setLoginCreds] = useState([]);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  }; // Opening Modal\n\n\n  const openLoginModal = () => {\n    dispatchUserEvent(\"LOGIN\", {\n      login: true\n    });\n  };\n\n  const openRegisterModal = () => {\n    dispatchUserEvent(\"REGISTER\", {\n      register: true\n    });\n  };\n\n  const handleSnack = data => {\n    getUserData();\n\n    if (data.class === \"success\") {\n      handleClose();\n      toast.success(`${data.message}`);\n    } else {\n      toast.error(`${data.message}`);\n    }\n  };\n\n  const getUserData = () => {\n    const USER_DATA = JSON.parse(localStorage.getItem(\"user_data\"));\n    setLoginCreds(USER_DATA);\n    dispatchUserEvent(\"LOGIN_TOKEN\", {\n      creds: [USER_DATA]\n    });\n  }; // LogOut\n\n\n  const handleLogout = () => {\n    toast.success(\"Logout Successfully\");\n    localStorage.clear();\n    setLoginCreds([]);\n  }; // Booking\n\n\n  const handleBookingHistory = () => {\n    console.log(\"Booking History\");\n    history.push(\"/history\");\n    dispatchUserEvent(\"BOOKING_HISTORY\");\n  };\n\n  useEffect(() => {\n    getUserData();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"header__link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h1\",\n    className: \"header__icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, \"Lets Travel\")), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"link f_flex uppercase\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#clients\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, \"Clients\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#blog\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, \"Blog\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#contact\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, \"Contact\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header__right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, loginCreds && loginCreds.token ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mb-0 fw-bolder\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, loginCreds.full_name), /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"more\",\n    \"aria-controls\": \"long-menu\",\n    \"aria-haspopup\": \"true\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MoreVertIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Menu, {\n    id: \"simple-menu\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: Boolean(anchorEl),\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleBookingHistory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }, \"My Bookings\"), /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }, \"Logout\"))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-grid gap-2 d-md-flex justify-content-md-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary me-md-2 btn-login\",\n    type: \"button\",\n    onClick: openLoginModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, \"Log In\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-dark\",\n    type: \"button\",\n    onClick: openRegisterModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, \"Sign Up\"))), state.login ? /*#__PURE__*/React.createElement(LoginModal, {\n    handleSnack: handleSnack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }\n  }) : state.register && /*#__PURE__*/React.createElement(LoginModal, {\n    handleSnack: handleSnack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(ToastContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }\n  }));\n}\n\nexport default Header;","map":{"version":3,"sources":["C:/Users/admin/Desktop/letsTravel/frontend/src/pages/Header/Header.js"],"names":["React","useContext","useState","useEffect","Avatar","Typography","Link","ContextApi","LoginModal","SnackBar","IconButton","Menu","MenuItem","MoreVertIcon","useHistory","ToastContainer","toast","Header","dispatchUserEvent","state","anchorEl","setAnchorEl","history","loginCreds","setLoginCreds","handleClick","event","currentTarget","handleClose","openLoginModal","login","openRegisterModal","register","handleSnack","data","getUserData","class","success","message","error","USER_DATA","JSON","parse","localStorage","getItem","creds","handleLogout","clear","handleBookingHistory","console","log","push","token","full_name","Boolean"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport { Avatar, Typography } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport ContextApi from \"../../context-api/context-api\";\nimport LoginModal from \"../../components/login-modal/login-modal\";\nimport SnackBar from \"../../components/snack-bar/snakc-bar\";\nimport { IconButton } from \"@material-ui/core/\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport { useHistory } from \"react-router-dom\";\nimport { ToastContainer, toast } from \"react-toastify\";\n\nfunction Header() {\n  const { dispatchUserEvent, state } = useContext(ContextApi);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const history = useHistory();\n  const [loginCreds, setLoginCreds] = useState([]);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  // Opening Modal\n  const openLoginModal = () => {\n    dispatchUserEvent(\"LOGIN\", { login: true });\n  };\n\n  const openRegisterModal = () => {\n    dispatchUserEvent(\"REGISTER\", { register: true });\n  };\n\n  const handleSnack = (data) => {\n    getUserData();\n    if (data.class === \"success\") {\n      handleClose();\n      toast.success(`${data.message}`);\n    } else {\n      toast.error(`${data.message}`);\n    }\n  };\n\n  const getUserData = () => {\n    const USER_DATA = JSON.parse(localStorage.getItem(\"user_data\"));\n    setLoginCreds(USER_DATA);\n    dispatchUserEvent(\"LOGIN_TOKEN\", { creds: [USER_DATA] });\n  };\n\n  // LogOut\n  const handleLogout = () => {\n    toast.success(\"Logout Successfully\");\n    localStorage.clear();\n    setLoginCreds([]);\n  };\n\n  // Booking\n  const handleBookingHistory = () => {\n    console.log(\"Booking History\");\n    history.push(\"/history\");\n    dispatchUserEvent(\"BOOKING_HISTORY\");\n  };\n\n  useEffect(() => {\n    getUserData();\n  }, []);\n\n  return (\n    <div className=\"header\">\n      <Link to=\"/\" className=\"header__link\">\n        <Typography variant=\"h1\" className=\"header__icon\">\n          Lets Travel\n        </Typography>\n      </Link>\n\n      {/* Trial */}\n      {/* <div> */}\n        <ul className=\"link f_flex uppercase\">\n          <li>\n            <a href=\"#clients\">Clients</a>\n          </li>\n          <li>\n            <a href=\"#blog\">Blog</a>\n          </li>\n          <li>\n            <a href=\"#contact\">Contact</a>\n          </li>\n        </ul>\n      {/* </div> */}\n      {/* Trial */}\n\n      <div className=\"header__right\">\n        {loginCreds && loginCreds.token ? (\n          <div className=\"d-flex align-items-center\">\n            <p className=\"mb-0 fw-bolder\">{loginCreds.full_name}</p>\n            <IconButton\n              aria-label=\"more\"\n              aria-controls=\"long-menu\"\n              aria-haspopup=\"true\"\n              onClick={handleClick}\n            >\n              <MoreVertIcon />\n            </IconButton>\n            <Menu\n              id=\"simple-menu\"\n              anchorEl={anchorEl}\n              keepMounted\n              open={Boolean(anchorEl)}\n              onClose={handleClose}\n            >\n              <MenuItem onClick={handleBookingHistory}>My Bookings</MenuItem>\n              <MenuItem onClick={handleLogout}>Logout</MenuItem>\n            </Menu>\n          </div>\n        ) : (\n          <div className=\"d-grid gap-2 d-md-flex justify-content-md-end\">\n            <button\n              className=\"btn btn-primary me-md-2 btn-login\"\n              type=\"button\"\n              onClick={openLoginModal}\n            >\n              Log In\n            </button>\n            <button\n              className=\"btn btn-dark\"\n              type=\"button\"\n              onClick={openRegisterModal}\n            >\n              Sign Up\n            </button>\n          </div>\n        )}\n      </div>\n      {state.login ? (\n        <LoginModal handleSnack={handleSnack} />\n      ) : (\n        state.register && <LoginModal handleSnack={handleSnack} />\n      )}\n      <ToastContainer />\n    </div>\n  );\n}\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}