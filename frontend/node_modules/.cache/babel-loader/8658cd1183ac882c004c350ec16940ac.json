{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\letsTravel\\\\frontend\\\\src\\\\pages\\\\Header\\\\Header.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport { Avatar, Typography } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport ContextApi from '../../context-api/context-api';\nimport LoginModal from '../../components/login-modal/login-modal';\nimport SnackBar from '../../components/snack-bar/snakc-bar';\nimport { IconButton } from '@material-ui/core/';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { useHistory } from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify';\n\nfunction Header() {\n  const {\n    dispatchUserEvent,\n    state\n  } = useContext(ContextApi);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const history = useHistory();\n  const [loginCreds, setLoginCreds] = useState([]);\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  }; // Opening Modal\n\n\n  const openLoginModal = () => {\n    dispatchUserEvent('LOGIN', {\n      login: true\n    });\n  };\n\n  const openRegisterModal = () => {\n    dispatchUserEvent('REGISTER', {\n      register: true\n    });\n  };\n\n  const handleSnack = data => {\n    getUserData();\n\n    if (data.class === 'success') {\n      handleClose();\n      toast.success(`${data.message}`);\n    } else {\n      toast.error(`${data.message}`);\n    }\n  };\n\n  const getUserData = () => {\n    const USER_DATA = JSON.parse(localStorage.getItem('user_data'));\n    setLoginCreds(USER_DATA);\n    dispatchUserEvent('LOGIN_TOKEN', {\n      creds: [USER_DATA]\n    });\n  }; // LogOut\n\n\n  const handleLogout = () => {\n    toast.success(\"Logout Successfully\");\n    localStorage.clear();\n    setLoginCreds([]);\n  }; // Booking\n\n\n  const handleBookingHistory = () => {\n    console.log('Booking History');\n    history.push('/history');\n    dispatchUserEvent('BOOKING_HISTORY');\n  };\n\n  useEffect(() => {\n    getUserData();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"header__link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h1\",\n    className: \"header__icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, \"Lets Travel\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header__right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, loginCreds && loginCreds.token ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, \"About\", /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mb-0 fw-bolder\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 29\n    }\n  }, loginCreds.full_name), /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"more\",\n    \"aria-controls\": \"long-menu\",\n    \"aria-haspopup\": \"true\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(MoreVertIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(Menu, {\n    id: \"simple-menu\",\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: Boolean(anchorEl),\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleBookingHistory,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 33\n    }\n  }, \"My Bookings\"), /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 33\n    }\n  }, \"Logout\"))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-grid gap-2 d-md-flex justify-content-md-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary me-md-2 btn-login\",\n    type: \"button\",\n    onClick: openLoginModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 29\n    }\n  }, \"Log In\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-dark\",\n    type: \"button\",\n    onClick: openRegisterModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 29\n    }\n  }, \"Sign Up\"))), state.login ? /*#__PURE__*/React.createElement(LoginModal, {\n    handleSnack: handleSnack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 31\n    }\n  }) : state.register && /*#__PURE__*/React.createElement(LoginModal, {\n    handleSnack: handleSnack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 92\n    }\n  }), /*#__PURE__*/React.createElement(ToastContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }));\n}\n\nexport default Header;","map":{"version":3,"sources":["C:/Users/admin/Desktop/letsTravel/frontend/src/pages/Header/Header.js"],"names":["React","useContext","useState","useEffect","Avatar","Typography","Link","ContextApi","LoginModal","SnackBar","IconButton","Menu","MenuItem","MoreVertIcon","useHistory","ToastContainer","toast","Header","dispatchUserEvent","state","anchorEl","setAnchorEl","history","loginCreds","setLoginCreds","handleClick","event","currentTarget","handleClose","openLoginModal","login","openRegisterModal","register","handleSnack","data","getUserData","class","success","message","error","USER_DATA","JSON","parse","localStorage","getItem","creds","handleLogout","clear","handleBookingHistory","console","log","push","token","full_name","Boolean"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport { Avatar, Typography } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport ContextApi from '../../context-api/context-api';\nimport LoginModal from '../../components/login-modal/login-modal';\nimport SnackBar from '../../components/snack-bar/snakc-bar';\nimport { IconButton } from '@material-ui/core/';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { useHistory } from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify';\n\nfunction Header() {\n\n    const { dispatchUserEvent, state } = useContext(ContextApi);\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const history = useHistory();\n    const [loginCreds, setLoginCreds] = useState([])\n\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    // Opening Modal\n    const openLoginModal = () => {\n        dispatchUserEvent('LOGIN', { login: true });\n    }\n\n    const openRegisterModal = () => {\n        dispatchUserEvent('REGISTER', { register: true });\n    }\n\n    const handleSnack = data => {\n        getUserData();\n        if (data.class === 'success') {\n            handleClose();\n            toast.success(`${data.message}`);   \n\n        } else {\n            toast.error(`${data.message}`);\n        }\n    }\n\n    const getUserData = () => {\n        const USER_DATA = JSON.parse(localStorage.getItem('user_data'));\n        setLoginCreds(USER_DATA);\n        dispatchUserEvent('LOGIN_TOKEN', { creds: [USER_DATA] });\n    }\n\n    // LogOut\n    const handleLogout = () => {\n        toast.success(\"Logout Successfully\");\n        localStorage.clear();\n        setLoginCreds([]);\n    }\n\n    // Booking\n    const handleBookingHistory = () => {\n        console.log('Booking History');\n        history.push('/history');\n        dispatchUserEvent('BOOKING_HISTORY');\n    }\n\n    useEffect(() => {\n        getUserData();\n    }, []);\n\n\n    return (\n        <div className='header'>\n            <Link to='/' className='header__link'>\n                <Typography variant='h1' className=\"header__icon\">Lets Travel</Typography>\n            </Link>\n            <div className='header__right'>\n                {\n                    loginCreds &&\n                        loginCreds.token ?\n                        <div className='d-flex align-items-center'>\n                        About\n                            <p className='mb-0 fw-bolder'>{loginCreds.full_name}</p>\n                            <IconButton\n                                aria-label=\"more\"\n                                aria-controls=\"long-menu\"\n                                aria-haspopup=\"true\"\n                                onClick={handleClick}\n                            >\n                                <MoreVertIcon />\n                            </IconButton>\n                            <Menu\n                                id=\"simple-menu\"\n                                anchorEl={anchorEl}\n                                keepMounted\n                                open={Boolean(anchorEl)}\n                                onClose={handleClose}\n                            >\n                                <MenuItem onClick={handleBookingHistory}>My Bookings</MenuItem>\n                                <MenuItem onClick={handleLogout}>Logout</MenuItem>\n                            </Menu>\n                        </div>\n                        :\n                        <div className=\"d-grid gap-2 d-md-flex justify-content-md-end\">\n                            <button className=\"btn btn-primary me-md-2 btn-login\" type=\"button\" onClick={openLoginModal}>Log In</button>\n                            <button className=\"btn btn-dark\" type=\"button\" onClick={openRegisterModal}>Sign Up</button>\n                        </div>\n                }\n\n            </div>\n            {\n                state.login ? <LoginModal handleSnack={handleSnack} /> : state.register && <LoginModal handleSnack={handleSnack} />\n            }\n            <ToastContainer />\n        </div>\n    )\n}\n\nexport default Header\n"]},"metadata":{},"sourceType":"module"}